# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ CRM Eywa

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.8+**
- **Node.js 18+** –∏ **npm**
- **PostgreSQL 14+** (–∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)
- **–ë—Ä–∞—É–∑–µ—Ä Chrome/Edge** (–¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞)

---

## üîß –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd backend
python3 -m venv .venv  # –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
source .venv/bin/activate  # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å (macOS/Linux)
# –∏–ª–∏
.venv\Scripts\activate  # Windows

pip install -r requirements.txt
```

### 1.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
# Database
DATABASE_URL=postgresql+psycopg://user:password@localhost:5432/eywa

# Security
SECRET_KEY=your-secret-key-change-in-production

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000,http://127.0.0.1:3001

# OpenAI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, fallback –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞)
OPENAI_API_KEY=sk-your-openai-key-here

# Timeweb Cloud AI (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞)
TIMEWEB_API_TOKEN=your-timeweb-token-here
TIMEWEB_AGENT_ACCESS_ID=bbd689cc-3715-4771-9843-2cca24481ad8

# ElevenLabs TTS (–¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞)
ELEVENLABS_API_KEY=sk_40b82c8f085107b551eef776ddcbbaea2a77cb902c2a4c43
ELEVENLABS_VOICE_ID=aG9q1I1wTbfHh5sbpJnp
```

### 1.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
cd backend
alembic upgrade head
```

### 1.4 –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
bash start_server.sh

# –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞: **http://localhost:8000**

–ü—Ä–æ–≤–µ—Ä–∫–∞: –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/health (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `{"status":"ok"}`)

---

## üé® –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

### 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd frontend
npm install
```

### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `frontend/.env.local` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### 2.3 –ó–∞–ø—É—Å–∫

```bash
npm run dev
```

Frontend –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞: **http://localhost:3001**

---

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
   - –î–∞—à–±–æ—Ä–¥
   - –ö–ª–∏–µ–Ω—Ç—ã
   - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
   - –ü–ª–∞—Ç–µ–∂–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º (–≤–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞)
   - –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–°–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ?"

---

## üéôÔ∏è –ì–æ–ª–æ—Å–æ–≤–æ–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)

- ‚úÖ Backend API –≥–æ—Ç–æ–≤
- ‚úÖ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Timeweb Cloud AI
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ElevenLabs TTS

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º: "–ü–µ—á–∞—Ç–∞—Ç—å" –∏–ª–∏ "–ì–æ–ª–æ—Å"
3. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –Ω–∞—á–Ω–∏—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç—å
4. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –æ—Ç–≤–µ—Ç–∏—Ç –≥–æ–ª–æ—Å–æ–º –∏ —Ç–µ–∫—Å—Ç–æ–º

### –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤

- "–°–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ?"
- "–ö–∞–∫–∞—è –≤—ã—Ä—É—á–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è?"
- "–°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π —Å–µ–≥–æ–¥–Ω—è?"
- "–ü—Ä–∏–≤–µ—Ç"

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
crm eyws/
‚îú‚îÄ‚îÄ backend/          # FastAPI backend
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/      # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/   # Database models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/  # Pydantic schemas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repositories/  # Data access layer
‚îÇ   ‚îî‚îÄ‚îÄ alembic/      # Database migrations
‚îú‚îÄ‚îÄ frontend/         # Next.js frontend
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ app/      # Pages
‚îÇ       ‚îú‚îÄ‚îÄ components/  # React components
‚îÇ       ‚îî‚îÄ‚îÄ lib/      # API client
‚îî‚îÄ‚îÄ AI/               # Telegram bot (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)
```

---

## üîç –î–æ—Å—Ç—É–ø–Ω—ã–µ API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
- `GET /api/info` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ö–ª–∏–µ–Ω—Ç—ã
- `GET /api/clients` - –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `GET /api/clients/{id}` - –î–µ—Ç–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞
- `POST /api/clients` - –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
- `PATCH /api/clients/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

### –î–∞—à–±–æ—Ä–¥
- `GET /api/dashboard/summary` - –°–≤–æ–¥–∫–∞ KPI
- `GET /api/dashboard/today-bookings` - –ó–∞–ø–∏—Å–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è

### AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç
- `POST /api/ai-assistant/chat` - –ß–∞—Ç —Å AI
- `GET /api/ai-assistant/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ CRM

### TTS (ElevenLabs)
- `POST /api/tts/speak` - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å

### –ò –¥—Ä—É–≥–∏–µ...
- –ü–ª–∞—Ç–µ–∂–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —É—Å–ª—É–≥–∏, —Ç—Ä–µ–Ω–µ—Ä—ã, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ç.–¥.

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫: http://localhost:8000/docs

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –≤–µ—Ä—Å–∏—é: `python3 --version` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 3.8+)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 8000: `lsof -ti:8000 | xargs kill -9` (–æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ—Ä—Ç)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª

### Frontend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Node.js: `node --version` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 18+)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 3001: –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `package.json` –µ—Å–ª–∏ –∑–∞–Ω—è—Ç

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ `.env`
3. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `alembic upgrade head`

### –ì–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:
   - `TIMEWEB_API_TOKEN` –∏ `TIMEWEB_AGENT_ACCESS_ID` (–∏–ª–∏ `OPENAI_API_KEY`)
   - `ELEVENLABS_API_KEY` –∏ `ELEVENLABS_VOICE_ID`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Chrome/Edge –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `AI_ASSISTANT_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- `TIMEWEB_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Timeweb Cloud AI
- `ELEVENLABS_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ElevenLabs TTS
- `backend/README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è backend
- `frontend/README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è frontend

---

## üéØ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend: `cd backend && bash start_server.sh`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend: `cd frontend && npm run dev`
3. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
4. –ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CRM!

